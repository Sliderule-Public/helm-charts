# shieldrule

![Version: 0.1.0](https://img.shields.io/badge/Version-0.1.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.16.0](https://img.shields.io/badge/AppVersion-1.16.0-informational?style=flat-square)

A Helm chart for Kubernetes

6-23: removed PSP: https://sysdig.com/blog/kubernetes-1-25-whats-new/

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| AUDIENCE_URL | string | `nil` | Get from us |
| AUTH0_ENVIRONMENT_PREFIX | string | `nil` | Get from us |
| EMAIL_USER_KEY | string | `nil` | Get from us |
| EMAIL_USER_TOKEN | string | `nil` | Get from us |
| ENVIRONMENT | string | `"Production"` | Should be production, for app purposes |
| ISSUER_URL | string | `nil` | Get from us |
| METRICS_NAMESPACE | string | `nil` | Get from us |
| POSTGRES_DB | string | `"sliderule"` | Name of postgresql DB to use |
| POSTGRES_HOST | string | `nil` | POSTGRES_HOST from the Terraform stack |
| POSTGRES_PASSWORD | string | `nil` | DB password |
| POSTGRES_PORT | int | `5432` | POSTGRES_PORT from the Terraform stack |
| POSTGRES_USER | string | `nil` | DB user |
| PROMETHEUS_ACCESS_TOKEN | string | `nil` | Get from us |
| REDIS_HOST | string | `nil` | REDIS_HOST address from the Terraform stack |
| REDIS_PORT | int | `6379` | REDIS_PORT address from the Terraform stack |
| RESET_DB | bool | `false` | If true, will reset and run migrations against a DB initially |
| SENTRY_ENVIRONMENT | string | `nil` | Get from us |
| SERVER_BUCKET | string | `nil` | SERVER_BUCKET from the Terraform stack |
| SHIELDRULE_ENVIRONMENT | string | `nil` | ENVIRONMENT from the Terraform stack |
| SLACK_REDIRECT_URI | string | `nil` | Get from us |
| SQS_QUEUE_NAME | string | `nil` | SQS_QUEUE_NAME from the Terraform stack |
| SQS_URL | string | `nil` | SQS_URL url from the Terraform stack |
| USE_AUTH_0 | bool | `true` | Whether to use Auth0 |
| USE_INSTANCE_PROFILE | bool | `true` | Whether to use instance profile |
| USE_REDIS | bool | `true` | Whether to use Redis |
| USE_SQS | bool | `true` | Whether to use SQS |
| alb_cert_arn | string | `nil` | ACM certificate to pass to the optional ALB |
| alb_controller_service_account_role | string | `nil` | ARN of the IAM role to pass for the ALB controller |
| api | object | `{"count":2,"resources":{"limits":{"cpu":"3400m","memory":"14500Mi"},"requests":{"cpu":"3400m","memory":"14500Mi"}}}` | default resources for the API service |
| api.count | int | `2` | number of API pods to deploy |
| api.resources.limits.cpu | string | `"3400m"` | cpu limit for each API pod |
| api.resources.limits.memory | string | `"14500Mi"` | memory limit for each API pod |
| api.resources.requests.cpu | string | `"3400m"` | cpu request for each API pod |
| api.resources.requests.memory | string | `"14500Mi"` | memory request for each API pod |
| api_image_url | string | `nil` | URL of api image |
| autoscaler_service_account_role | string | `nil` | AWS IAM Role for the node group autoscaler service |
| deploy_jobs | bool | `true` | if true, will deploy the jobs service |
| enable_aws_alb | bool | `true` | if true, will attempt to launch a load balancer |
| pod_security_group | string | `nil` | AWS security group for Sliderule application pods |
| ports | object | `{"api":31257,"grpc":31258,"jobs":31259,"web":31255}` | port to expose NodePort services on |
| prometheus_image_url | string | `nil` | URL of prometheus image |
| public_subnet_ids | string | `nil` | Subnets where the optional Application Load Balancer is deployed |
| service_account_role | string | `nil` | ARN of the task role to pass to the service account |
| web | object | `{"count":2,"resources":{"limits":{"cpu":"512m","memory":"1024Mi"},"requests":{"cpu":"512m","memory":"1024Mi"}}}` | default resources for the web service |
| web.count | int | `2` | number of web pods to deploy |
| web.resources.limits.cpu | string | `"512m"` | cpu limit for each web pod |
| web.resources.limits.memory | string | `"1024Mi"` | memory limit for each web pod |
| web.resources.requests.cpu | string | `"512m"` | cpu request for each web pod |
| web.resources.requests.memory | string | `"1024Mi"` | memory request for each web pod |
| web_image_url | string | `nil` | URL of web image |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
